(this["webpackJsonpexpense-tracker-mern"]=this["webpackJsonpexpense-tracker-mern"]||[]).push([[0],{84:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(25),i=n.n(s),o=n(13),j=n(8),l=n(53),d=n(6),u=n.n(d),b=n(11),p=n(21),O=n(9),h=n(7),x=function(e,t){switch(t.type){case"FETCH_ALL_TRANSACTION":return Object(h.a)(Object(h.a)({},e),{},{transactions:t.payload});case"DELETE_TRANSACTION":return Object(h.a)(Object(h.a)({},e),{},{transactions:e.transactions.filter((function(e){return e._id!==t.payload}))});case"ADD_TRANSACTION":return Object(h.a)(Object(h.a)({},e),{},{transactions:[].concat(Object(O.a)(e.transactions),[t.payload])});case"USER_REGISTER":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!0,user:t.payload});case"USER_LOGOUT":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!1,user:t.payload});case"ERROR":return Object(h.a)(Object(h.a)({},e),{},{error:t.payload});default:return e}},m=n(22),g=n.n(m),f={transactions:[],error:null,user:null,isLoggedIn:!1},y=Object(r.createContext)(f),v=function(e){var t=e.children,n=Object(r.useReducer)(x,f),c=Object(p.a)(n,2),s=c[0],i=c[1],o=Object(j.g)(),l="production"===Object({NODE_ENV:"production",PUBLIC_URL:"/expense-tracker-mern",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NOT_SECRET_CODE?"https://evening-escarpment-92494.herokuapp.com":"http://localhost:8080";function d(){return(d=Object(b.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.user){e.next=12;break}return t="".concat(l,"/api/v1/transaction?user_id=").concat(s.user._id),e.prev=2,e.next=5,g.a.get(t);case 5:n=e.sent,i({type:"FETCH_ALL_TRANSACTION",payload:n.data.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i({type:"ERROR",payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function O(){return(O=Object(b.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("".concat(l,"/api/v1/transaction/").concat(t));case 3:i({type:"DELETE_TRANSACTION",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:"ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function h(){return(h=Object(b.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.post("".concat(l,"/api/v1/transaction/"),t,n);case 4:a=e.sent,i({type:"ADD_TRANSACTION",payload:a.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function m(){return(m=Object(b.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.post("".concat(l,"/api/v1/user/signup"),t,n);case 4:a=e.sent,console.log("response: ",a),i({type:"USER_REGISTER",payload:a.data.user}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:"ERROR",payload:"Error"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function v(){return(v=Object(b.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.post("".concat(l,"/api/v1/user/login"),t,n);case 4:a=e.sent,i({type:"USER_REGISTER",payload:a.data.user}),o.push("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:"ERROR",payload:"Error"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function R(){return(R=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("".concat(l,"/api/v1/user/logout"));case 3:i({type:"USER_LOGOUT",payload:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:"USER_LOGOUT",payload:null});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(a.jsx)(y.Provider,{value:{transactions:s.transactions,error:s.error,user:s.user,isLoggedIn:s.isLoggedIn,deleteTransaction:function(e){return O.apply(this,arguments)},addTransaction:function(e){return h.apply(this,arguments)},signUp:function(e){return m.apply(this,arguments)},login:function(e){return v.apply(this,arguments)},logOut:function(){return R.apply(this,arguments)},fetchAllData:function(){return d.apply(this,arguments)}},children:t})},R=(n(84),n(24)),E=n(91),C=n(88),T=function(){var e=Object(r.useContext)(y).login,t=Object(R.a)(),n=t.register,c=t.handleSubmit;return Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(E.a,{onSubmit:c((function(t){var n=Object(h.a)({},t);e(n)})),children:[Object(a.jsx)("h3",{children:"Log in"}),Object(a.jsxs)(E.a.Group,{className:"form-group",children:[Object(a.jsx)(E.a.Label,{children:"Email"}),Object(a.jsx)(E.a.Control,{name:"email",required:!0,autoFocus:!0,type:"email",placeholder:"Enter your email",ref:n({required:!0})})]}),Object(a.jsxs)(E.a.Group,{className:"form-group",children:[Object(a.jsx)(E.a.Label,{children:"Password"}),Object(a.jsx)(E.a.Control,{name:"password",required:!0,type:"password",placeholder:"Enter your password",ref:n({required:!0})})]}),Object(a.jsx)(E.a.Group,{className:"form-group",children:Object(a.jsx)(E.a.Check,{type:"switch",id:"custom-switch",label:"Remember me"})}),Object(a.jsx)(C.a,{type:"submit",block:!0,variant:"dark",size:"lg",children:"Sign in"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Need an ",Object(a.jsx)(o.b,{to:"/signup",children:"Account?"})]})]})})},S=function(){var e=Object(r.useContext)(y).signUp,t=Object(R.a)(),n=t.register,c=t.handleSubmit;return Object(a.jsx)("div",{className:"inner",children:Object(a.jsxs)(E.a,{onSubmit:c((function(t){var n=Object(h.a)({},t);e(n)})),children:[Object(a.jsx)("h3",{children:"Register"}),Object(a.jsxs)(E.a.Group,{children:[Object(a.jsx)(E.a.Label,{children:"Username"}),Object(a.jsx)(E.a.Control,{autoFocus:!0,name:"username",required:!0,type:"text",placeholder:"Username",ref:n({required:!0})})]}),Object(a.jsxs)(E.a.Group,{children:[Object(a.jsx)(E.a.Label,{children:"Email"}),Object(a.jsx)(E.a.Control,{name:"email",required:!0,type:"email",placeholder:"Enter email",ref:n({required:!0})})]}),Object(a.jsxs)(E.a.Group,{children:[Object(a.jsx)(E.a.Label,{children:"Password"}),Object(a.jsx)(E.a.Control,{name:"password",required:!0,type:"password",placeholder:"Enter password",ref:n({required:!0})})]}),Object(a.jsx)(C.a,{type:"submit",block:!0,variant:"dark",size:"lg",children:"Register"}),Object(a.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",Object(a.jsx)(o.b,{to:"/login",children:"log in?"})]})]})})},L=n(49),N=function(){var e=Object(r.useContext)(y),t=e.addTransaction,n=e.user,c=Object(R.a)(),s=c.register,i=c.handleSubmit;return Object(a.jsxs)(E.a,{className:"addForm",onSubmit:i((function(e){var a=Object(h.a)(Object(h.a)({},e),{},{amount:+e.amount,user_id:n._id,date:new Date(e.date)});console.log(a),t(a)})),children:[Object(a.jsxs)(E.a.Row,{children:[Object(a.jsx)(L.a,{children:Object(a.jsxs)(E.a.Group,{controlId:"expenseName",children:[Object(a.jsx)(E.a.Label,{children:"Description"}),Object(a.jsx)(E.a.Control,{name:"text",type:"text",ref:s({required:!0})})]})}),Object(a.jsx)(L.a,{children:Object(a.jsxs)(E.a.Group,{controlId:"expenseAmount",children:[Object(a.jsx)(E.a.Label,{children:"Amount"}),Object(a.jsx)(E.a.Control,{name:"amount",type:"number",ref:s({required:!0})})]})})]}),Object(a.jsxs)(E.a.Row,{children:[Object(a.jsx)(L.a,{children:Object(a.jsxs)(E.a.Group,{controlId:"expenseCategory",children:[Object(a.jsx)(E.a.Label,{children:"Category"}),Object(a.jsxs)(E.a.Control,{name:"category",as:"select",defaultValue:"0",custom:!0,ref:s({required:!0}),children:[Object(a.jsx)("option",{value:"0",disabled:!0,children:"Please Select"}),Object(a.jsx)("option",{children:"Groceries"}),Object(a.jsx)("option",{children:"Travel"}),Object(a.jsx)("option",{children:"Clothing"}),Object(a.jsx)("option",{children:"Rent"}),Object(a.jsx)("option",{children:"Pharmacy"}),Object(a.jsx)("option",{children:"Miscellaneous"})]})]})}),Object(a.jsx)(L.a,{children:Object(a.jsxs)(E.a.Group,{children:[Object(a.jsx)(E.a.Label,{children:"Select Date"}),Object(a.jsx)(E.a.Control,{name:"date",type:"date",ref:s({required:!0})})]})})]}),Object(a.jsx)(C.a,{variant:"primary",block:!0,size:"lg",type:"submit",children:"Add"})]})},_=n(50),k=n(54),w=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},A=function(e){var t=e.item,n=e.idx,c=Object(r.useContext)(y).deleteTransaction,s=t._id,i=t.text,o=t.amount,j=t.category,l=t.date,d=o<0?"-$".concat(Math.abs(o)):"$".concat(o),u=o<0?"expense":"income";return Object(a.jsxs)("tr",{className:"table-row",children:[Object(a.jsx)("td",{className:u,children:n+1}),Object(a.jsx)("td",{children:i}),Object(a.jsx)("td",{children:w(d)}),Object(a.jsx)("td",{children:j}),Object(a.jsx)("td",{children:l}),Object(a.jsx)("td",{children:Object(a.jsx)(k.a,{className:"delete-icon",onClick:function(){return c(s)}})})]})},I=function(){var e=Object(r.useContext)(y),t=e.transactions,n=e.fetchAllData;Object(r.useEffect)((function(){n()}),[]);var c=t.length>0?t.map((function(e,t){return Object(a.jsx)(A,{item:e,idx:t},e._id)})):Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"6",children:"No items added yet"})});return Object(a.jsxs)(_.a,{striped:!0,bordered:!0,hover:!0,size:"sm",id:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Description"}),Object(a.jsx)("th",{children:"Amount"}),Object(a.jsx)("th",{children:"Category"}),Object(a.jsx)("th",{children:"Date"}),Object(a.jsx)("th",{children:"X"})]})}),Object(a.jsx)("tbody",{children:c})]})},D=n(89),G=function(){var e=Object(r.useContext)(y).transactions.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0).toFixed(2),t=e<0?"-$".concat(Math.abs(e)):"$".concat(e),n=e<0?"danger":"success";return Object(a.jsx)("div",{className:"total",children:Object(a.jsx)("h3",{children:Object(a.jsxs)(D.a,{variant:n,children:["Total: ",w(t)]})})})},U=function(){return Object(a.jsxs)("div",{id:"main",children:[Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("h1",{children:"Expense Tracker with ReactJS"})}),Object(a.jsx)(N,{}),Object(a.jsx)("div",{className:"table-container",children:Object(a.jsx)(I,{})}),Object(a.jsx)(G,{})]})},q=n(90),F=n(92),P=function(){var e=Object(r.useContext)(y),t=e.isLoggedIn,n=e.logOut;return Object(a.jsx)(q.a,{id:"navbar",expand:"lg",bg:"light",children:Object(a.jsxs)(l.a,{className:"container",children:[Object(a.jsx)(q.a.Brand,{as:o.b,to:"/",children:"Expense Tracker"}),Object(a.jsx)(q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(q.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(F.a,{className:"mr-auto",children:[t&&Object(a.jsx)(F.a.Link,{as:o.b,to:"/",children:"Home"}),t&&Object(a.jsx)(F.a.Link,{onClick:function(){return n()},children:"LogOut"}),!t&&Object(a.jsx)(F.a.Link,{as:o.b,to:"/login",children:"Login"}),!t&&Object(a.jsx)(F.a.Link,{as:o.b,to:"/signup",children:"Sign-up"})]})})]})})},H=n(55),B=function(e){var t=e.type,n=Object(H.a)(e,["type"]),c=Object(r.useContext)(y).isLoggedIn;return"guest"===t&&c?Object(a.jsx)(j.a,{to:"/"}):"private"!==t||c?Object(a.jsx)(j.b,Object(h.a)({},n)):Object(a.jsx)(j.a,{to:"/login"})},z=function(){return Object(a.jsx)(v,{children:Object(a.jsxs)(o.a,{basename:"/",children:[Object(a.jsx)(P,{}),Object(a.jsx)(l.a,{className:"flex-container",children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(B,{path:"/login",type:"guest",children:Object(a.jsx)(T,{})}),Object(a.jsx)(B,{path:"/signup",type:"guest",children:Object(a.jsx)(S,{})}),Object(a.jsx)(B,{path:"/",exact:!0,type:"private",children:Object(a.jsx)(U,{})}),Object(a.jsx)(B,{path:"*",children:"404"})]})})]})})},M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,93)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),M()}},[[86,1,2]]]);
//# sourceMappingURL=main.b07488ee.chunk.js.map